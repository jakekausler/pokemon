using System;
using System.Collections.Generic;

public static class Items {
	public const int REPEL = 1;
	public const int SUPERREPEL = 2;
	public const int MAXREPEL = 3;
	public const int BLACKFLUTE = 4;
	public const int WHITEFLUTE = 5;
	public const int HONEY = 6;
	public const int ESCAPEROPE = 7;
	public const int REDSHARD = 8;
	public const int YELLOWSHARD = 9;
	public const int BLUESHARD = 10;
	public const int GREENSHARD = 11;
	public const int FIRESTONE = 12;
	public const int THUNDERSTONE = 13;
	public const int WATERSTONE = 14;
	public const int LEAFSTONE = 15;
	public const int MOONSTONE = 16;
	public const int SUNSTONE = 17;
	public const int DUSKSTONE = 18;
	public const int DAWNSTONE = 19;
	public const int SHINYSTONE = 20;
	public const int REDAPRICORN = 21;
	public const int YLWAPRICORN = 22;
	public const int BLUAPRICORN = 23;
	public const int GRNAPRICORN = 24;
	public const int PNKAPRICORN = 25;
	public const int WHTAPRICORN = 26;
	public const int BLKAPRICORN = 27;
	public const int HELIXFOSSIL = 28;
	public const int DOMEFOSSIL = 29;
	public const int OLDAMBER = 30;
	public const int ROOTFOSSIL = 31;
	public const int CLAWFOSSIL = 32;
	public const int SKULLFOSSIL = 33;
	public const int ARMORFOSSIL = 34;
	public const int COVERFOSSIL = 35;
	public const int PLUMEFOSSIL = 36;
	public const int PRETTYWING = 37;
	public const int TINYMUSHROOM = 38;
	public const int BIGMUSHROOM = 39;
	public const int BALMMUSHROOM = 40;
	public const int PEARL = 41;
	public const int BIGPEARL = 42;
	public const int PEARLSTRING = 43;
	public const int STARDUST = 44;
	public const int STARPIECE = 45;
	public const int COMETSHARD = 46;
	public const int NUGGET = 47;
	public const int BIGNUGGET = 48;
	public const int HEARTSCALE = 49;
	public const int SLOWPOKETAIL = 50;
	public const int RAREBONE = 51;
	public const int RELICCOPPER = 52;
	public const int RELICSILVER = 53;
	public const int RELICGOLD = 54;
	public const int RELICVASE = 55;
	public const int RELICBAND = 56;
	public const int RELICSTATUE = 57;
	public const int RELICCROWN = 58;
	public const int GROWTHMULCH = 59;
	public const int DAMPMULCH = 60;
	public const int STABLEMULCH = 61;
	public const int GOOEYMULCH = 62;
	public const int SHOALSALT = 63;
	public const int SHOALSHELL = 64;
	public const int ODDKEYSTONE = 65;
	public const int AIRBALLOON = 66;
	public const int BRIGHTPOWDER = 67;
	public const int EVIOLITE = 68;
	public const int FLOATSTONE = 69;
	public const int DESTINYKNOT = 70;
	public const int ROCKYHELMET = 71;
	public const int EJECTBUTTON = 72;
	public const int REDCARD = 73;
	public const int SHEDSHELL = 74;
	public const int SMOKEBALL = 75;
	public const int LUCKYEGG = 76;
	public const int EXPSHARE = 77;
	public const int AMULETCOIN = 78;
	public const int SOOTHEBELL = 79;
	public const int CLEANSETAG = 80;
	public const int CHOICEBAND = 81;
	public const int CHOICESPECS = 82;
	public const int CHOICESCARF = 83;
	public const int HEATROCK = 84;
	public const int DAMPROCK = 85;
	public const int SMOOTHROCK = 86;
	public const int ICYROCK = 87;
	public const int LIGHTCLAY = 88;
	public const int GRIPCLAW = 89;
	public const int BINDINGBAND = 90;
	public const int BIGROOT = 91;
	public const int BLACKSLUDGE = 92;
	public const int LEFTOVERS = 93;
	public const int SHELLBELL = 94;
	public const int MENTALHERB = 95;
	public const int WHITEHERB = 96;
	public const int POWERHERB = 97;
	public const int ABSORBBULB = 98;
	public const int CELLBATTERY = 99;
	public const int LIFEORB = 100;
	public const int EXPERTBELT = 101;
	public const int METRONOME = 102;
	public const int MUSCLEBAND = 103;
	public const int WISEGLASSES = 104;
	public const int RAZORCLAW = 105;
	public const int SCOPELENS = 106;
	public const int WIDELENS = 107;
	public const int ZOOMLENS = 108;
	public const int KINGSROCK = 109;
	public const int RAZORFANG = 110;
	public const int LAGGINGTAIL = 111;
	public const int QUICKCLAW = 112;
	public const int FOCUSBAND = 113;
	public const int FOCUSSASH = 114;
	public const int FLAMEORB = 115;
	public const int TOXICORB = 116;
	public const int STICKYBARB = 117;
	public const int IRONBALL = 118;
	public const int RINGTARGET = 119;
	public const int MACHOBRACE = 120;
	public const int POWERWEIGHT = 121;
	public const int POWERBRACER = 122;
	public const int POWERBELT = 123;
	public const int POWERLENS = 124;
	public const int POWERBAND = 125;
	public const int POWERANKLET = 126;
	public const int LAXINCENSE = 127;
	public const int FULLINCENSE = 128;
	public const int LUCKINCENSE = 129;
	public const int PUREINCENSE = 130;
	public const int SEAINCENSE = 131;
	public const int WAVEINCENSE = 132;
	public const int ROSEINCENSE = 133;
	public const int ODDINCENSE = 134;
	public const int ROCKINCENSE = 135;
	public const int CHARCOAL = 136;
	public const int MYSTICWATER = 137;
	public const int MAGNET = 138;
	public const int MIRACLESEED = 139;
	public const int NEVERMELTICE = 140;
	public const int BLACKBELT = 141;
	public const int POISONBARB = 142;
	public const int SOFTSAND = 143;
	public const int SHARPBEAK = 144;
	public const int TWISTEDSPOON = 145;
	public const int SILVERPOWDER = 146;
	public const int HARDSTONE = 147;
	public const int SPELLTAG = 148;
	public const int DRAGONFANG = 149;
	public const int BLACKGLASSES = 150;
	public const int METALCOAT = 151;
	public const int SILKSCARF = 152;
	public const int FLAMEPLATE = 153;
	public const int SPLASHPLATE = 154;
	public const int ZAPPLATE = 155;
	public const int MEADOWPLATE = 156;
	public const int ICICLEPLATE = 157;
	public const int FISTPLATE = 158;
	public const int TOXICPLATE = 159;
	public const int EARTHPLATE = 160;
	public const int SKYPLATE = 161;
	public const int MINDPLATE = 162;
	public const int INSECTPLATE = 163;
	public const int STONEPLATE = 164;
	public const int SPOOKYPLATE = 165;
	public const int DRACOPLATE = 166;
	public const int DREADPLATE = 167;
	public const int IRONPLATE = 168;
	public const int FIREGEM = 169;
	public const int WATERGEM = 170;
	public const int ELECTRICGEM = 171;
	public const int GRASSGEM = 172;
	public const int ICEGEM = 173;
	public const int FIGHTINGGEM = 174;
	public const int POISONGEM = 175;
	public const int GROUNDGEM = 176;
	public const int FLYINGGEM = 177;
	public const int PSYCHICGEM = 178;
	public const int BUGGEM = 179;
	public const int ROCKGEM = 180;
	public const int GHOSTGEM = 181;
	public const int DRAGONGEM = 182;
	public const int DARKGEM = 183;
	public const int STEELGEM = 184;
	public const int NORMALGEM = 185;
	public const int LIGHTBALL = 186;
	public const int LUCKYPUNCH = 187;
	public const int METALPOWDER = 188;
	public const int QUICKPOWDER = 189;
	public const int THICKCLUB = 190;
	public const int STICK = 191;
	public const int SOULDEW = 192;
	public const int DEEPSEATOOTH = 193;
	public const int DEEPSEASCALE = 194;
	public const int ADAMANTORB = 195;
	public const int LUSTROUSORB = 196;
	public const int GRISEOUSORB = 197;
	public const int DOUSEDRIVE = 198;
	public const int SHOCKDRIVE = 199;
	public const int BURNDRIVE = 200;
	public const int CHILLDRIVE = 201;
	public const int EVERSTONE = 202;
	public const int DRAGONSCALE = 203;
	public const int UPGRADE = 204;
	public const int DUBIOUSDISC = 205;
	public const int PROTECTOR = 206;
	public const int ELECTIRIZER = 207;
	public const int MAGMARIZER = 208;
	public const int REAPERCLOTH = 209;
	public const int PRISMSCALE = 210;
	public const int OVALSTONE = 211;
	public const int REDSCARF = 212;
	public const int BLUESCARF = 213;
	public const int PINKSCARF = 214;
	public const int GREENSCARF = 215;
	public const int YELLOWSCARF = 216;
	public const int POTION = 217;
	public const int SUPERPOTION = 218;
	public const int HYPERPOTION = 219;
	public const int MAXPOTION = 220;
	public const int FULLRESTORE = 221;
	public const int SACREDASH = 222;
	public const int AWAKENING = 223;
	public const int ANTIDOTE = 224;
	public const int BURNHEAL = 225;
	public const int PARALYZEHEAL = 226;
	public const int ICEHEAL = 227;
	public const int FULLHEAL = 228;
	public const int LAVACOOKIE = 229;
	public const int OLDGATEAU = 230;
	public const int CASTELIACONE = 231;
	public const int REVIVE = 232;
	public const int MAXREVIVE = 233;
	public const int BERRYJUICE = 234;
	public const int RAGECANDYBAR = 235;
	public const int SWEETHEART = 236;
	public const int FRESHWATER = 237;
	public const int SODAPOP = 238;
	public const int LEMONADE = 239;
	public const int MOOMOOMILK = 240;
	public const int ENERGYPOWDER = 241;
	public const int ENERGYROOT = 242;
	public const int HEALPOWDER = 243;
	public const int REVIVALHERB = 244;
	public const int ETHER = 245;
	public const int MAXETHER = 246;
	public const int ELIXIR = 247;
	public const int MAXELIXIR = 248;
	public const int PPUP = 249;
	public const int PPMAX = 250;
	public const int HPUP = 251;
	public const int PROTEIN = 252;
	public const int IRON = 253;
	public const int CALCIUM = 254;
	public const int ZINC = 255;
	public const int CARBOS = 256;
	public const int HEALTHWING = 257;
	public const int MUSCLEWING = 258;
	public const int RESISTWING = 259;
	public const int GENIUSWING = 260;
	public const int CLEVERWING = 261;
	public const int SWIFTWING = 262;
	public const int RARECANDY = 263;
	public const int MASTERBALL = 264;
	public const int ULTRABALL = 265;
	public const int GREATBALL = 266;
	public const int POKEBALL = 267;
	public const int SAFARIBALL = 268;
	public const int SPORTBALL = 269;
	public const int NETBALL = 270;
	public const int DIVEBALL = 271;
	public const int NESTBALL = 272;
	public const int REPEATBALL = 273;
	public const int TIMERBALL = 274;
	public const int LUXURYBALL = 275;
	public const int PREMIERBALL = 276;
	public const int DUSKBALL = 277;
	public const int HEALBALL = 278;
	public const int QUICKBALL = 279;
	public const int CHERISHBALL = 280;
	public const int FASTBALL = 281;
	public const int LEVELBALL = 282;
	public const int LUREBALL = 283;
	public const int HEAVYBALL = 284;
	public const int LOVEBALL = 285;
	public const int FRIENDBALL = 286;
	public const int MOONBALL = 287;
	public const int TM01 = 288;
	public const int TM02 = 289;
	public const int TM03 = 290;
	public const int TM04 = 291;
	public const int TM05 = 292;
	public const int TM06 = 293;
	public const int TM07 = 294;
	public const int TM08 = 295;
	public const int TM09 = 296;
	public const int TM10 = 297;
	public const int TM11 = 298;
	public const int TM12 = 299;
	public const int TM13 = 300;
	public const int TM14 = 301;
	public const int TM15 = 302;
	public const int TM16 = 303;
	public const int TM17 = 304;
	public const int TM18 = 305;
	public const int TM19 = 306;
	public const int TM20 = 307;
	public const int TM21 = 308;
	public const int TM22 = 309;
	public const int TM23 = 310;
	public const int TM24 = 311;
	public const int TM25 = 312;
	public const int TM26 = 313;
	public const int TM27 = 314;
	public const int TM28 = 315;
	public const int TM29 = 316;
	public const int TM30 = 317;
	public const int TM31 = 318;
	public const int TM32 = 319;
	public const int TM33 = 320;
	public const int TM34 = 321;
	public const int TM35 = 322;
	public const int TM36 = 323;
	public const int TM37 = 324;
	public const int TM38 = 325;
	public const int TM39 = 326;
	public const int TM40 = 327;
	public const int TM41 = 328;
	public const int TM42 = 329;
	public const int TM43 = 330;
	public const int TM44 = 331;
	public const int TM45 = 332;
	public const int TM46 = 333;
	public const int TM47 = 334;
	public const int TM48 = 335;
	public const int TM49 = 336;
	public const int TM50 = 337;
	public const int TM51 = 338;
	public const int TM52 = 339;
	public const int TM53 = 340;
	public const int TM54 = 341;
	public const int TM55 = 342;
	public const int TM56 = 343;
	public const int TM57 = 344;
	public const int TM58 = 345;
	public const int TM59 = 346;
	public const int TM60 = 347;
	public const int TM61 = 348;
	public const int TM62 = 349;
	public const int TM63 = 350;
	public const int TM64 = 351;
	public const int TM65 = 352;
	public const int TM66 = 353;
	public const int TM67 = 354;
	public const int TM68 = 355;
	public const int TM69 = 356;
	public const int TM70 = 357;
	public const int TM71 = 358;
	public const int TM72 = 359;
	public const int TM73 = 360;
	public const int TM74 = 361;
	public const int TM75 = 362;
	public const int TM76 = 363;
	public const int TM77 = 364;
	public const int TM78 = 365;
	public const int TM79 = 366;
	public const int TM80 = 367;
	public const int TM81 = 368;
	public const int TM82 = 369;
	public const int TM83 = 370;
	public const int TM84 = 371;
	public const int TM85 = 372;
	public const int TM86 = 373;
	public const int TM87 = 374;
	public const int TM88 = 375;
	public const int TM89 = 376;
	public const int TM90 = 377;
	public const int TM91 = 378;
	public const int TM92 = 379;
	public const int TM93 = 380;
	public const int TM94 = 381;
	public const int TM95 = 382;
	public const int HM01 = 383;
	public const int HM02 = 384;
	public const int HM03 = 385;
	public const int HM04 = 386;
	public const int HM05 = 387;
	public const int HM06 = 388;
	public const int CHERIBERRY = 389;
	public const int CHESTOBERRY = 390;
	public const int PECHABERRY = 391;
	public const int RAWSTBERRY = 392;
	public const int ASPEARBERRY = 393;
	public const int LEPPABERRY = 394;
	public const int ORANBERRY = 395;
	public const int PERSIMBERRY = 396;
	public const int LUMBERRY = 397;
	public const int SITRUSBERRY = 398;
	public const int FIGYBERRY = 399;
	public const int WIKIBERRY = 400;
	public const int MAGOBERRY = 401;
	public const int AGUAVBERRY = 402;
	public const int IAPAPABERRY = 403;
	public const int RAZZBERRY = 404;
	public const int BLUKBERRY = 405;
	public const int NANABBERRY = 406;
	public const int WEPEARBERRY = 407;
	public const int PINAPBERRY = 408;
	public const int POMEGBERRY = 409;
	public const int KELPSYBERRY = 410;
	public const int QUALOTBERRY = 411;
	public const int HONDEWBERRY = 412;
	public const int GREPABERRY = 413;
	public const int TAMATOBERRY = 414;
	public const int CORNNBERRY = 415;
	public const int MAGOSTBERRY = 416;
	public const int RABUTABERRY = 417;
	public const int NOMELBERRY = 418;
	public const int SPELONBERRY = 419;
	public const int PAMTREBERRY = 420;
	public const int WATMELBERRY = 421;
	public const int DURINBERRY = 422;
	public const int BELUEBERRY = 423;
	public const int OCCABERRY = 424;
	public const int PASSHOBERRY = 425;
	public const int WACANBERRY = 426;
	public const int RINDOBERRY = 427;
	public const int YACHEBERRY = 428;
	public const int CHOPLEBERRY = 429;
	public const int KEBIABERRY = 430;
	public const int SHUCABERRY = 431;
	public const int COBABERRY = 432;
	public const int PAYAPABERRY = 433;
	public const int TANGABERRY = 434;
	public const int CHARTIBERRY = 435;
	public const int KASIBBERRY = 436;
	public const int HABANBERRY = 437;
	public const int COLBURBERRY = 438;
	public const int BABIRIBERRY = 439;
	public const int CHILANBERRY = 440;
	public const int LIECHIBERRY = 441;
	public const int GANLONBERRY = 442;
	public const int SALACBERRY = 443;
	public const int PETAYABERRY = 444;
	public const int APICOTBERRY = 445;
	public const int LANSATBERRY = 446;
	public const int STARFBERRY = 447;
	public const int ENIGMABERRY = 448;
	public const int MICLEBERRY = 449;
	public const int CUSTAPBERRY = 450;
	public const int JABOCABERRY = 451;
	public const int ROWAPBERRY = 452;
	public const int GRASSMAIL = 453;
	public const int FLAMEMAIL = 454;
	public const int BUBBLEMAIL = 455;
	public const int BLOOMMAIL = 456;
	public const int TUNNELMAIL = 457;
	public const int STEELMAIL = 458;
	public const int HEARTMAIL = 459;
	public const int SNOWMAIL = 460;
	public const int SPACEMAIL = 461;
	public const int AIRMAIL = 462;
	public const int MOSAICMAIL = 463;
	public const int BRICKMAIL = 464;
	public const int XATTACK = 465;
	public const int XATTACK2 = 466;
	public const int XATTACK3 = 467;
	public const int XATTACK6 = 468;
	public const int XDEFENSE = 469;
	public const int XDEFENSE2 = 470;
	public const int XDEFENSE3 = 471;
	public const int XDEFENSE6 = 472;
	public const int XSPATK = 473;
	public const int XSPATK2 = 474;
	public const int XSPATK3 = 475;
	public const int XSPATK6 = 476;
	public const int XSPDEF = 477;
	public const int XSPDEF2 = 478;
	public const int XSPDEF3 = 479;
	public const int XSPDEF6 = 480;
	public const int XSPEED = 481;
	public const int XSPEED2 = 482;
	public const int XSPEED3 = 483;
	public const int XSPEED6 = 484;
	public const int XACCURACY = 485;
	public const int XACCURACY2 = 486;
	public const int XACCURACY3 = 487;
	public const int XACCURACY6 = 488;
	public const int DIREHIT = 489;
	public const int DIREHIT2 = 490;
	public const int DIREHIT3 = 491;
	public const int GUARDSPEC = 492;
	public const int RESETURGE = 493;
	public const int ABILITYURGE = 494;
	public const int ITEMURGE = 495;
	public const int ITEMDROP = 496;
	public const int BLUEFLUTE = 497;
	public const int YELLOWFLUTE = 498;
	public const int REDFLUTE = 499;
	public const int POKEDOLL = 500;
	public const int FLUFFYTAIL = 501;
	public const int POKETOY = 502;
	public const int BICYCLE = 503;
	public const int OLDROD = 504;
	public const int GOODROD = 505;
	public const int SUPERROD = 506;
	public const int ITEMFINDER = 507;
	public const int DOWSINGMACHINE = 508;
	public const int POKERADAR = 509;
	public const int TOWNMAP = 510;
	public const int POKEFLUTE = 511;
	public const int COINCASE = 512;
	public const int SOOTSACK = 513;
	public const int SILPHSCOPE = 514;
	public const int DEVONSCOPE = 515;
	public const int SQUIRTBOTTLE = 516;
	public const int SPRAYDUCK = 517;
	public const int WAILMERPAIL = 518;
	public const int GRACIDEA = 519;
	public const int AURORATICKET = 520;
	public const int OLDSEAMAP = 521;
	public const int DNASPLICERS = 522;
	public const int REVEALGLASS = 523;
	public const int OVALCHARM = 524;
	public const int SHINYCHARM = 525;
	public const int PIXIEPLATE = 526;
	public const int REDORB = 527;
	public const int BLUEORB = 528;
	public const int SAFETYGOGGLES = 529;
	public const int KEEBERRY = 530;
	public const int MARANGABERRY = 531;
	public const int WEAKNESSPOLICY = 532;
	public const int SNOWBALL = 533;
	public const int LUMINOUSMOSS = 534;
	public const int ASSAULTVEST = 535;
	public const int EXPALL = 536;
	public const int FAIRYGEM = 537;
	public const int ROSELIBERRY = 538;
	public const int JAWFOSSIL = 539;
	public const int SAILFOSSIL = 540;
	public const int ABILITYCAPSULE = 541;
	public const int AMAZEMULCH = 542;
	public const int BOOSTMULCH = 543;
	public const int LUMIOSEGALETTE = 544;
	public const int PASSORB = 545;
	public const int RICHMULCH = 546;
	public const int SACHET = 547;
	public const int SHALOURSABLE = 548;
	public const int SURPRISEMULCH = 549;
	public const int WHIPPEDDREAM = 550;

	public static string[] itemNames = new string[550]{"REPEL","SUPERREPEL","MAXREPEL","BLACKFLUTE","WHITEFLUTE","HONEY","ESCAPEROPE","REDSHARD","YELLOWSHARD","BLUESHARD","GREENSHARD","FIRESTONE","THUNDERSTONE","WATERSTONE","LEAFSTONE","MOONSTONE","SUNSTONE","DUSKSTONE","DAWNSTONE","SHINYSTONE","REDAPRICORN","YLWAPRICORN","BLUAPRICORN","GRNAPRICORN","PNKAPRICORN","WHTAPRICORN","BLKAPRICORN","HELIXFOSSIL","DOMEFOSSIL","OLDAMBER","ROOTFOSSIL","CLAWFOSSIL","SKULLFOSSIL","ARMORFOSSIL","COVERFOSSIL","PLUMEFOSSIL","PRETTYWING","TINYMUSHROOM","BIGMUSHROOM","BALMMUSHROOM","PEARL","BIGPEARL","PEARLSTRING","STARDUST","STARPIECE","COMETSHARD","NUGGET","BIGNUGGET","HEARTSCALE","SLOWPOKETAIL","RAREBONE","RELICCOPPER","RELICSILVER","RELICGOLD","RELICVASE","RELICBAND","RELICSTATUE","RELICCROWN","GROWTHMULCH","DAMPMULCH","STABLEMULCH","GOOEYMULCH","SHOALSALT","SHOALSHELL","ODDKEYSTONE","AIRBALLOON","BRIGHTPOWDER","EVIOLITE","FLOATSTONE","DESTINYKNOT","ROCKYHELMET","EJECTBUTTON","REDCARD","SHEDSHELL","SMOKEBALL","LUCKYEGG","EXPSHARE","AMULETCOIN","SOOTHEBELL","CLEANSETAG","CHOICEBAND","CHOICESPECS","CHOICESCARF","HEATROCK","DAMPROCK","SMOOTHROCK","ICYROCK","LIGHTCLAY","GRIPCLAW","BINDINGBAND","BIGROOT","BLACKSLUDGE","LEFTOVERS","SHELLBELL","MENTALHERB","WHITEHERB","POWERHERB","ABSORBBULB","CELLBATTERY","LIFEORB","EXPERTBELT","METRONOME","MUSCLEBAND","WISEGLASSES","RAZORCLAW","SCOPELENS","WIDELENS","ZOOMLENS","KINGSROCK","RAZORFANG","LAGGINGTAIL","QUICKCLAW","FOCUSBAND","FOCUSSASH","FLAMEORB","TOXICORB","STICKYBARB","IRONBALL","RINGTARGET","MACHOBRACE","POWERWEIGHT","POWERBRACER","POWERBELT","POWERLENS","POWERBAND","POWERANKLET","LAXINCENSE","FULLINCENSE","LUCKINCENSE","PUREINCENSE","SEAINCENSE","WAVEINCENSE","ROSEINCENSE","ODDINCENSE","ROCKINCENSE","CHARCOAL","MYSTICWATER","MAGNET","MIRACLESEED","NEVERMELTICE","BLACKBELT","POISONBARB","SOFTSAND","SHARPBEAK","TWISTEDSPOON","SILVERPOWDER","HARDSTONE","SPELLTAG","DRAGONFANG","BLACKGLASSES","METALCOAT","SILKSCARF","FLAMEPLATE","SPLASHPLATE","ZAPPLATE","MEADOWPLATE","ICICLEPLATE","FISTPLATE","TOXICPLATE","EARTHPLATE","SKYPLATE","MINDPLATE","INSECTPLATE","STONEPLATE","SPOOKYPLATE","DRACOPLATE","DREADPLATE","IRONPLATE","FIREGEM","WATERGEM","ELECTRICGEM","GRASSGEM","ICEGEM","FIGHTINGGEM","POISONGEM","GROUNDGEM","FLYINGGEM","PSYCHICGEM","BUGGEM","ROCKGEM","GHOSTGEM","DRAGONGEM","DARKGEM","STEELGEM","NORMALGEM","LIGHTBALL","LUCKYPUNCH","METALPOWDER","QUICKPOWDER","THICKCLUB","STICK","SOULDEW","DEEPSEATOOTH","DEEPSEASCALE","ADAMANTORB","LUSTROUSORB","GRISEOUSORB","DOUSEDRIVE","SHOCKDRIVE","BURNDRIVE","CHILLDRIVE","EVERSTONE","DRAGONSCALE","UPGRADE","DUBIOUSDISC","PROTECTOR","ELECTIRIZER","MAGMARIZER","REAPERCLOTH","PRISMSCALE","OVALSTONE","REDSCARF","BLUESCARF","PINKSCARF","GREENSCARF","YELLOWSCARF","POTION","SUPERPOTION","HYPERPOTION","MAXPOTION","FULLRESTORE","SACREDASH","AWAKENING","ANTIDOTE","BURNHEAL","PARALYZEHEAL","ICEHEAL","FULLHEAL","LAVACOOKIE","OLDGATEAU","CASTELIACONE","REVIVE","MAXREVIVE","BERRYJUICE","RAGECANDYBAR","SWEETHEART","FRESHWATER","SODAPOP","LEMONADE","MOOMOOMILK","ENERGYPOWDER","ENERGYROOT","HEALPOWDER","REVIVALHERB","ETHER","MAXETHER","ELIXIR","MAXELIXIR","PPUP","PPMAX","HPUP","PROTEIN","IRON","CALCIUM","ZINC","CARBOS","HEALTHWING","MUSCLEWING","RESISTWING","GENIUSWING","CLEVERWING","SWIFTWING","RARECANDY","MASTERBALL","ULTRABALL","GREATBALL","POKEBALL","SAFARIBALL","SPORTBALL","NETBALL","DIVEBALL","NESTBALL","REPEATBALL","TIMERBALL","LUXURYBALL","PREMIERBALL","DUSKBALL","HEALBALL","QUICKBALL","CHERISHBALL","FASTBALL","LEVELBALL","LUREBALL","HEAVYBALL","LOVEBALL","FRIENDBALL","MOONBALL","TM01","TM02","TM03","TM04","TM05","TM06","TM07","TM08","TM09","TM10","TM11","TM12","TM13","TM14","TM15","TM16","TM17","TM18","TM19","TM20","TM21","TM22","TM23","TM24","TM25","TM26","TM27","TM28","TM29","TM30","TM31","TM32","TM33","TM34","TM35","TM36","TM37","TM38","TM39","TM40","TM41","TM42","TM43","TM44","TM45","TM46","TM47","TM48","TM49","TM50","TM51","TM52","TM53","TM54","TM55","TM56","TM57","TM58","TM59","TM60","TM61","TM62","TM63","TM64","TM65","TM66","TM67","TM68","TM69","TM70","TM71","TM72","TM73","TM74","TM75","TM76","TM77","TM78","TM79","TM80","TM81","TM82","TM83","TM84","TM85","TM86","TM87","TM88","TM89","TM90","TM91","TM92","TM93","TM94","TM95","HM01","HM02","HM03","HM04","HM05","HM06","CHERIBERRY","CHESTOBERRY","PECHABERRY","RAWSTBERRY","ASPEARBERRY","LEPPABERRY","ORANBERRY","PERSIMBERRY","LUMBERRY","SITRUSBERRY","FIGYBERRY","WIKIBERRY","MAGOBERRY","AGUAVBERRY","IAPAPABERRY","RAZZBERRY","BLUKBERRY","NANABBERRY","WEPEARBERRY","PINAPBERRY","POMEGBERRY","KELPSYBERRY","QUALOTBERRY","HONDEWBERRY","GREPABERRY","TAMATOBERRY","CORNNBERRY","MAGOSTBERRY","RABUTABERRY","NOMELBERRY","SPELONBERRY","PAMTREBERRY","WATMELBERRY","DURINBERRY","BELUEBERRY","OCCABERRY","PASSHOBERRY","WACANBERRY","RINDOBERRY","YACHEBERRY","CHOPLEBERRY","KEBIABERRY","SHUCABERRY","COBABERRY","PAYAPABERRY","TANGABERRY","CHARTIBERRY","KASIBBERRY","HABANBERRY","COLBURBERRY","BABIRIBERRY","CHILANBERRY","LIECHIBERRY","GANLONBERRY","SALACBERRY","PETAYABERRY","APICOTBERRY","LANSATBERRY","STARFBERRY","ENIGMABERRY","MICLEBERRY","CUSTAPBERRY","JABOCABERRY","ROWAPBERRY","GRASSMAIL","FLAMEMAIL","BUBBLEMAIL","BLOOMMAIL","TUNNELMAIL","STEELMAIL","HEARTMAIL","SNOWMAIL","SPACEMAIL","AIRMAIL","MOSAICMAIL","BRICKMAIL","XATTACK","XATTACK2","XATTACK3","XATTACK6","XDEFENSE","XDEFENSE2","XDEFENSE3","XDEFENSE6","XSPATK","XSPATK2","XSPATK3","XSPATK6","XSPDEF","XSPDEF2","XSPDEF3","XSPDEF6","XSPEED","XSPEED2","XSPEED3","XSPEED6","XACCURACY","XACCURACY2","XACCURACY3","XACCURACY6","DIREHIT","DIREHIT2","DIREHIT3","GUARDSPEC","RESETURGE","ABILITYURGE","ITEMURGE","ITEMDROP","BLUEFLUTE","YELLOWFLUTE","REDFLUTE","POKEDOLL","FLUFFYTAIL","POKETOY","BICYCLE","OLDROD","GOODROD","SUPERROD","ITEMFINDER","DOWSINGMACHINE","POKERADAR","TOWNMAP","POKEFLUTE","COINCASE","SOOTSACK","SILPHSCOPE","DEVONSCOPE","SQUIRTBOTTLE","SPRAYDUCK","WAILMERPAIL","GRACIDEA","AURORATICKET","OLDSEAMAP","DNASPLICERS","REVEALGLASS","OVALCHARM","SHINYCHARM","PIXIEPLATE","REDORB","BLUEORB","SAFETYGOGGLES","KEEBERRY","MARANGABERRY","WEAKNESSPOLICY","SNOWBALL","LUMINOUSMOSS","ASSAULTVEST","EXPALL","FAIRYGEM","ROSELIBERRY","JAWFOSSIL","SAILFOSSIL","ABILITYCAPSULE","AMAZEMULCH","BOOSTMULCH","LUMIOSEGALETTE","PASSORB","RICHMULCH","SACHET","SHALOURSABLE","SURPRISEMULCH","WHIPPEDDREAM"};

	private static string path = "Assets/lib/data/items.json";

	public static int MaxValue() {
		// TODO
		return 550;
	}

	public static int GetValueFromName(string type) {
		for (int i=0; i<itemNames.Length; i++) {
			if (itemNames[i] == type) {
				return i+1;
			}
		}
		return -1;
	}

	public static Item GetItem(int id) {
		string json = System.IO.File.ReadAllText(path);
		Item[] items = JsonHelper.FromJson<Item>(json);
		for (int i = 0; i < items.Length; i++) {
			if (items[i].Id == id) {
				return items[i];
			}
		}
		return null;
	}

	public static string GetName(int id) {
		Item i = GetItem(id);
		if (i == null) {
			return "";
		}
		return i.Name;
	}

	[Serializable]
	public class Item {
		public string Name;
		public string FriendlyName;
		public string Description;
		public int Id;
		public int InBattle;
		public int OutOfBattle;
		public string Move;
		public string PluralName;
		public int Pocket;
		public int Price;
		public int SpecialItem;
	}
	
	public static List<List<int>> ItemData;

	public static int ITEMID = 0;
	public static int ITEMNAME = 1;
	public static int ITEMPLURAL = 2;
	public static int ITEMPOCKET = 3;
	public static int ITEMPRICE = 4;
	public static int ITEMDESC = 5;
	public static int ITEMUSE = 6;
	public static int ITEMBATTLEUSE = 7;
	public static int ITEMTYPE = 8;
	public static int ITEMMACHINE = 9;

	public static int GetPocket(int item) {
		// TODO
		return Items.GetItem(item).Pocket;
	}

	public static int GetPrice(int item) {
		// TODO
		return Items.GetItem(item).Price;
	}

	public static int GetMachine(int item) {
		Items.InternalItem i = Items.GetItem(item);
		return i.Move != "" ? -1 : Moves.GetValueFromName(i.Move);
	}

	public static bool IsMachine(int item) {
		// TODO
		return IsTechnicalMachine(item) || IsHiddenMachine(item);
	}

	public static bool IsTechnicalMachine(int item) {
		// TODO
		return Items.GetItem(item).OutOfBattle == 3;
	}

	public static bool IsHiddenMachnine(int item) {
		// TODO
		return Items.GetItem(item).OutOfBattle == 4;
	}

	public static bool IsImportantItem(int item) {
		Items.InternalItem i = Items.GetItem(item);
		return i.IsKeyItem(item) || i.IsHiddenMachine(item) || (Settings.INFINITE_TMS && i.IsTechnicalMachine(item));
	}

	public static bool CanHoldItem(int item) {
		// TODO
		return !IsImportantItem(item);
	}

	public static bool IsMail(int item) {
		Items.InternalItem i = Items.GetItem(item);
		return i.SpecialItem == 1 || i.SpecialItem == 2;
	}

	public static bool IsPokeball(int item) {
		// TODO
		return Items.GetItem(item).SpecialItem == 4;
	}

	public static bool IsBerry(int item) {
		// TODO
		return Items.GetItem(item).SpecialItem == 5;
	}

	public static bool IsKeyItem(int item) {
		// TODO
		return Items.GetItem(item).SpecialItem == 6;
	}

	public static bool IsEvolutionStone(int item) {
		// TODO
		return Items.GetItem(item).SpecialItem == 7;
	}

	public static bool IsFossil(int item) {
		// TODO
		return Items.GetItem(item).SpecialItem == 8;
	}

	public static bool IsApricorn(int item) {
		// TODO
		return Items.GetItem(item).SpecialItem == 9;
	}

	public static bool IsGem(int item) {
		// TODO
		return Items.GetItem(item).SpecialItem == 10;
	}

	public static bool IsMulch(int item) {
		// TODO
		return Items.GetItem(item).SpecialItem == 11;
	}

	public static bool IsMegaStone(int item) {
		// TODO
		return Items.GetItem(item).SpecialItem == 12;
	}

	public static bool CanRegisterItem(int item) {
		// TODO
		return HasUseInField(item);
	}

	public static bool CanUseOnPokemon(int item) {
		// TODO
		return HasUseOnPokemon(item) || IsMachine(item);
	}

	public static bool IsHiddenMove(int move) {
		for (int i=1; i<=Items.MaxValue(); i++) 
		{
			if (!IsHiddenMachnine()) {
				continue;
			}
			int atk = GetMachine(i);
			if (move == atk) {
				return true;
			}
		}
		return false;
	}

	public static Dictionary<int, Func<int, int>> UseFromBag;
	public static Dictionary<int, Func<int, bool>> ConfirmUseInField;
	public static Dictionary<int, Func<int, int>> UseInField;
	public static Dictionary<int, Func<int, Pokemon, BattleScene, bool>> UseOnPokemon;
	public static Dictionary<int, Func<int, Battler, BattleScene, bool>> BattleUseOnBattler;
	public static Dictionary<int, Func<int, Pokemon, Battler, BattleScene, bool>> BattleUseOnPokemon;
	public static Dictionary<int, Func<int, Battler, Battle, int>> UseInBattle;
	public static Dictionary<int, Func<int, string>> UseText;

	public static void SetupHashes() {
		AddUseFromBag(Items.HONEY, new Func<int, int>(int item) {
			return 4;
		});
		AddUseFromBag(Items.ESCAPEROPE, new Func<int, int>(int item) {
			if (PokemonGlobal.HasDependentEvents()) {
				Messaging.Message("It can't be used when you have someone with you.");
				return 0;
			}
			if (PokemonGlobal.escapePoint != null && PokemonGlobal.escapePoint.Length > 0) {
				return 4;
			} else {
				Messaging.Message("It cant be used here.");
				return 0;
			}
		});
		AddUseFromBag(Items.BICYCLE, new Func<int, int>(int item) {
			return BikeCheck() ? 2 : 0;
		});
		Copy(UseFromBag, Items.BICYCLE, Items.MACHBIKE, Items.ACROBIKE);
		AddUseText(Items.BICYCLE, new Func<int, string>(int item) {
			return (PokemonGlobal.bicycle) ? "Walk" : "Use";
		});
		Copy(UseText, Items.BICYCLE, Items.MACHBIKE, Items.ACROBIKE);
		AddUseFromBag(Items.OLDROD, new Func<int, int>(int item) {
			int terrain = PokemonGlobal.FacingTerrainTag();
			bool notCliff = PokemonGlobal.Passable(PokemonGlobal.playerX, PokemonGlobal.playerY, PokemonGlobal.playerDirection); 
			if ((Terrain.IsWater(terrain) && !PokemonGlobal.surfing && notCliff) || (Terrain.IsWater(terrain) && PokemonGlobal.surfing)) {
				return 2;
			} else {
				Messaging.Message("It cant be used here.");
				return 0;
			}
		});
		Copy(UseFromBag, Items.OLDROD, Items.GOODROD, Items.SUPERROD);
		AddUseFromBag(Items.ITEMFINDER, new Func<int, int>(int item) {
			return 2;
		});
		Copy(UseFromBag, Items.ITEMFINDER, Items.DOWSINGMACHINE, Items.DOWSINGMCHN);
		AddConfirmUseInField(Items.ESCAPEROPE, new Func<int, bool>(int item) {
			int[] escape = PokemonGlobal.escapePoint;
			if (escape == null || escape.Length == 0) {
				Messaging.Message("It cant be used here.");
				return false;
			}
			if (PokemonGlobal.HasDependentEvents()) {
				Messaging.Message("It can't be used when you have someone with you.");
				return false;
			}
			string mapName = Utilities.GetMapNameFromId(escape[0]);
			return Messaging.ConfirmMessage(string.Format("Want to escape from here and return to {0}?", mapName));
		});
		AddUseFromBag(Items.REPEL, new Func<int, int>(int item) {
			return Repel(item, 100);
		});
		AddUseFromBag(Items.SUPERREPEL, new Func<int, int>(int item) {
			return Repel(item, 200);
		});
		AddUseFromBag(Items.MAXREPEL, new Func<int, int>(int item) {
			return Repel(item, 250);
		});
		Events.Add(Events.OnStepTaken, new Action() {
			if (!Terrain.IsIce(PokemonGlobal.GetTerrainTag())) {
				if (PokemonGlobal.repel > 0) {
					PokemonGlobal.repel--;
					if (PokemonGlobal.repel <= 0) {
						if (PokemonGlobal.Bag.HasItem(Items.REPEL) || PokemonGlobal.Bag.HasItem(Items.SUPERREPEL) || PokemonGlobal.Bag.HasItem(Items.MAXREPEL)) {
							if (Messaging.ConfirmMessage("The repellent's effect wore off!\r\nWould you like to use another one?")) {
								int ret = 0;
								Graphics.FadeOutIn(99999, Action() {
									BagScene scene = new BagScene();
									BagScene.BagScreen screen = new BagScene.BagScreen();
									ret = screen.ChooseItemScreen(new Func<int, bool>(int item) {
										return item == Items.REPEL || item == Items.SUPERREPEL || item == Items.MAXREPEL;
									});
								});
								if (ret > 0) {
									UseItem(PokemonGlobal.Bag, ret);
								}
							}
						} else {
							Messaging.Message("The repellent's effect wore off!");
						}
					}
				}
			}
		});
		AddUseInField(Items.BLACKFLUTE, new Func<int, int>(int item) {
			UseItemMessage(item);
			Messaging.Message("Wild Pokémon will be repelled.");
			PokemonGlobal.Map.blackFluteUsed = true;
			PokemonGlobal.Map.whiteFluteUsed = false;
			return 1;
		});
		AddUseInField(Items.WHITEFLUTE, new Func<int, int>(int item) {
			UseItemMessage(item);
			Messaging.Message("Wild Pokémon will be lured.");
			PokemonGlobal.Map.blackFluteUsed = false;
			PokemonGlobal.Map.whiteFluteUsed = true;
			return 1;
		});
		AddUseInField(Items.HONEY, new Func<int, int>(int item) {
			UseItemMessage(item);
			FieldMoves.SweetScent();
			return 3;
		});
		AddUseInField(Items.ESCAPEROPE, new Func<int, int>(int item) {
			int[] escape = PokemonGlobal.escapePoint;
			if (escape == null || escape.Count == 0) {
				Messaging.Message("It cant be used here.");
				return 0;
			}
			if (PokemonGlobal.HasDependentEvents()) {
				Messaging.Message("It cant be used when you have someone with you.");
				return 0;
			}
			UseItemMessage(item);
			Graphics.FadeOutIn(99999, new Action() {
				PokemonTemp.newMapId = escape[0];
				PokemonTemp.newX = escape[1];
				PokemonTemp.newY = escape[2];
				PokemonTemp.newDirection = escape[3];
				Utilities.CancelVehicles();
				PokemonGlobal.TransferPlayer();
				PokemonGlobal.Map.AutoPlay();
				PokemonGlobal.Map.Refresh();
			});
			Utilities.EraseEscapePoint();
			return 3;
		});
		AddUseInField(Items.SACREDASH, new Func<int, int>(int item) {
			if (PokemonGlobal.Trainer.PokemonCount() == 0) {
				Messaging.Message("There are no Pokémon.");
				return 0;
			}
			bool canRevive = false;
			for (int i=0; i < PokemonGlobal.Trainer.pokemonParty.Length; i++) 
			{
				if (PokemonGlobal.Trainer.pokemonParty[i].Fainted()) {
					canRevive = true;
					break;
				}
			}
			if (!canRevive) {
				Messaging.Message("It won't have any effect.");
				return 0;
			}
			int revived = 0;
			Graphics.FadeOutIn(99999, new Action() {
				PokemonPartyScene scene = new PokemonPartyScene();
				PokemonPartyScene.PartyScreen screen = new PokemonPartyScene.PartyScreen(scene, PokemonGlobal.Trainer.Party);
				screen.StartScene("Using Item...", false);
				for (int i=0; i<PokemonGlobal.Trainer.party.Length; i++) 
				{
					if (PokemonGlobal.Trainer.party[i].Fainted()) {
						revived++;
						PokemonGlobal.Trainer.party[i].Heal();
						screen.RefreshSingle(i);
						screen.Display(string.Format("{0}'s HP was restored.", PokemonGlobal.Trainer.party[i].name));
					}
				}
				if (revived == 0) {
					screen.Display("It won't have any effect.");
				}
				screen.EndScene();
			});
			return revived == 0 ? 0 : 3;
		});
		AddUseInField(Items.BICYCLE, new Func<int, int>(int item) {
			if (BikeCheck()) {
				if (PokemonGlobal.bicycle) {
					PokemonGlobal.DismountBike();
				} else {
					PokemonGlobal.MountBike();
				}
				return 1;
			}
			return 0;
		});
		Copy(UseInField, Items.BICYCLE,Items.MACHBIKE,Items.ACROBIKE);
		AddUseInField(Items.OLDROD, new Func<int, int>(int item) {
			
		});
		AddUseInField(Items.GOODROD, new Func<int, int>(int item) {
			
		});
		AddUseInField(Items.SUPERROD, new Func<int, int>(int item) {
			
		});
		AddUseInField(Items.ITEMFINDER, new Func<int, int>(int item) {
			
		});
		Copy(UseInField, Items.ITEMFINDER,Items.DOWSINGMCHN,Items.DOWSINGMACHINE);
		AddUseInField(Items.TOWNMAP, new Func<int, int>(int item) {
			
		});
		AddUseInField(Items.COINCASE, new Func<int, int>(int item) {
			
		});
		AddUseInField(Items.EXPALL, new Func<int, int>(int item) {
			
		});
		AddUseInField(Items.EXPALLOFF, new Func<int, int>(int item) {
			
		});
		AddIfUseOnPokemon(new Func<int, bool>(int item) {
			
		}, new Func<int, Pokemon, BattleScene, bool>(int item, Pokemon pokemon, BattleScene scene) {
			
		});
		AddUseOnPokemon(Items.POTION, new Func<int, Pokemon, BattleScene, bool>(int item, Pokemon pokemon, BattleScene scene) {
			
		});
		AddUseOnPokemon(Items.SUPERPOTION, new Func<int, Pokemon, BattleScene, bool>(int item, Pokemon pokemon, BattleScene scene) {
			
		});
		AddUseOnPokemon(Items.HYPERPOTION, new Func<int, Pokemon, BattleScene, bool>(int item, Pokemon pokemon, BattleScene scene) {
			
		});
		AddUseOnPokemon(Items.MAXPOTION, new Func<int, Pokemon, BattleScene, bool>(int item, Pokemon pokemon, BattleScene scene) {
			
		});
		AddUseOnPokemon(Items.BERRYJUICE, new Func<int, Pokemon, BattleScene, bool>(int item, Pokemon pokemon, BattleScene scene) {
			
		});
		AddUseOnPokemon(Items.RAGECANDYBAR, new Func<int, Pokemon, BattleScene, bool>(int item, Pokemon pokemon, BattleScene scene) {
			
		});
		AddUseOnPokemon(Items.SWEETHEART, new Func<int, Pokemon, BattleScene, bool>(int item, Pokemon pokemon, BattleScene scene) {
			
		});
		AddUseOnPokemon(Items.FRESHWATER, new Func<int, Pokemon, BattleScene, bool>(int item, Pokemon pokemon, BattleScene scene) {
			
		});
		AddUseOnPokemon(Items.SODAPOP, new Func<int, Pokemon, BattleScene, bool>(int item, Pokemon pokemon, BattleScene scene) {
			
		});
		AddUseOnPokemon(Items.LEMONADE, new Func<int, Pokemon, BattleScene, bool>(int item, Pokemon pokemon, BattleScene scene) {
			
		});
		AddUseOnPokemon(Items.MOOMOOMILK, new Func<int, Pokemon, BattleScene, bool>(int item, Pokemon pokemon, BattleScene scene) {
			
		});
		AddUseOnPokemon(Items.ORANBERRY, new Func<int, Pokemon, BattleScene, bool>(int item, Pokemon pokemon, BattleScene scene) {
			
		});
		AddUseOnPokemon(Items.SITRUSBERRY, new Func<int, Pokemon, BattleScene, bool>(int item, Pokemon pokemon, BattleScene scene) {
			
		});
		AddUseOnPokemon(Items.AWAKENING, new Func<int, Pokemon, BattleScene, bool>(int item, Pokemon pokemon, BattleScene scene) {
			
		});
		Copy(UseOnPokemon, Items.AWAKENING,Items.CHESTOBERRY,Items.BLUEFLUTE,Items.POKEFLUTE);
		AddUseOnPokemon(Items.ANTIDOTE, new Func<int, Pokemon, BattleScene, bool>(int item, Pokemon pokemon, BattleScene scene) {
			
		});
		Copy(UseOnPokemon, Items.ANTIDOTE,Items.PECHABERRY);
		AddUseOnPokemon(Items.BURNHEAL, new Func<int, Pokemon, BattleScene, bool>(int item, Pokemon pokemon, BattleScene scene) {
			
		});
		Copy(UseOnPokemon, Items.BURNHEAL,Items.RAWSTBERRY);
		AddUseOnPokemon(Items.PARLYZHEAL, new Func<int, Pokemon, BattleScene, bool>(int item, Pokemon pokemon, BattleScene scene) {
			
		});
		Copy(UseOnPokemon, Items.PARLYZHEAL,Items.PARALYZEHEAL,Items.CHERIBERRY);
		AddUseOnPokemon(Items.ICEHEAL, new Func<int, Pokemon, BattleScene, bool>(int item, Pokemon pokemon, BattleScene scene) {
			
		});
		Copy(UseOnPokemon, Items.ICEHEAL,Items.ASPEARBERRY);
		AddUseOnPokemon(Items.FULLHEAL, new Func<int, Pokemon, BattleScene, bool>(int item, Pokemon pokemon, BattleScene scene) {
			
		});
		Copy(UseOnPokemon, Items.FULLHEAL,
		AddUseOnPokemon(Items.FULLRESTORE, new Func<int, Pokemon, BattleScene, bool>(int item, Pokemon pokemon, BattleScene scene) {
			
		});
		AddUseOnPokemon(Items.REVIVE, new Func<int, Pokemon, BattleScene, bool>(int item, Pokemon pokemon, BattleScene scene) {
			
		});
		AddUseOnPokemon(Items.MAXREVIVE, new Func<int, Pokemon, BattleScene, bool>(int item, Pokemon pokemon, BattleScene scene) {
			
		});
		AddUseOnPokemon(Items.ENERGYPOWDER, new Func<int, Pokemon, BattleScene, bool>(int item, Pokemon pokemon, BattleScene scene) {
			
		});
		AddUseOnPokemon(Items.ENERGYROOT, new Func<int, Pokemon, BattleScene, bool>(int item, Pokemon pokemon, BattleScene scene) {
			
		});
		AddUseOnPokemon(Items.HEALPOWDER, new Func<int, Pokemon, BattleScene, bool>(int item, Pokemon pokemon, BattleScene scene) {
			
		});
		AddUseOnPokemon(Items.REVIVALHERB, new Func<int, Pokemon, BattleScene, bool>(int item, Pokemon pokemon, BattleScene scene) {
			
		});
		AddUseOnPokemon(Items.ETHER, new Func<int, Pokemon, BattleScene, bool>(int item, Pokemon pokemon, BattleScene scene) {
			
		});
		Copy(UseOnPokemon, Items.ETHER,Items.LEPPABERRY);
		AddUseOnPokemon(Items.MAXETHER, new Func<int, Pokemon, BattleScene, bool>(int item, Pokemon pokemon, BattleScene scene) {
			
		});
		AddUseOnPokemon(Items.ELIXIR, new Func<int, Pokemon, BattleScene, bool>(int item, Pokemon pokemon, BattleScene scene) {
			
		});
		AddUseOnPokemon(Items.MAXELIXIR, new Func<int, Pokemon, BattleScene, bool>(int item, Pokemon pokemon, BattleScene scene) {
			
		});
		AddUseOnPokemon(Items.PPUP, new Func<int, Pokemon, BattleScene, bool>(int item, Pokemon pokemon, BattleScene scene) {
			
		});
		AddUseOnPokemon(Items.PPMAX, new Func<int, Pokemon, BattleScene, bool>(int item, Pokemon pokemon, BattleScene scene) {
			
		});
		AddUseOnPokemon(Items.HPUP, new Func<int, Pokemon, BattleScene, bool>(int item, Pokemon pokemon, BattleScene scene) {
			
		});
		AddUseOnPokemon(Items.PROTEIN, new Func<int, Pokemon, BattleScene, bool>(int item, Pokemon pokemon, BattleScene scene) {
			
		});
		AddUseOnPokemon(Items.IRON, new Func<int, Pokemon, BattleScene, bool>(int item, Pokemon pokemon, BattleScene scene) {
			
		});
		AddUseOnPokemon(Items.CALCIUM, new Func<int, Pokemon, BattleScene, bool>(int item, Pokemon pokemon, BattleScene scene) {
			
		});
		AddUseOnPokemon(Items.ZINC, new Func<int, Pokemon, BattleScene, bool>(int item, Pokemon pokemon, BattleScene scene) {
			
		});
		AddUseOnPokemon(Items.CARBOS, new Func<int, Pokemon, BattleScene, bool>(int item, Pokemon pokemon, BattleScene scene) {
			
		});
		AddUseOnPokemon(Items.HEALTHWING, new Func<int, Pokemon, BattleScene, bool>(int item, Pokemon pokemon, BattleScene scene) {
			
		});
		AddUseOnPokemon(Items.MUSCLEWING, new Func<int, Pokemon, BattleScene, bool>(int item, Pokemon pokemon, BattleScene scene) {
			
		});
		AddUseOnPokemon(Items.RESISTWING, new Func<int, Pokemon, BattleScene, bool>(int item, Pokemon pokemon, BattleScene scene) {
			
		});
		AddUseOnPokemon(Items.GENIUSWING, new Func<int, Pokemon, BattleScene, bool>(int item, Pokemon pokemon, BattleScene scene) {
			
		});
		AddUseOnPokemon(Items.CLEVERWING, new Func<int, Pokemon, BattleScene, bool>(int item, Pokemon pokemon, BattleScene scene) {
			
		});
		AddUseOnPokemon(Items.SWIFTWING, new Func<int, Pokemon, BattleScene, bool>(int item, Pokemon pokemon, BattleScene scene) {
			
		});
		AddUseOnPokemon(Items.RARECANDY, new Func<int, Pokemon, BattleScene, bool>(int item, Pokemon pokemon, BattleScene scene) {
			
		});
		AddUseOnPokemon(Items.POMEGBERRY, new Func<int, Pokemon, BattleScene, bool>(int item, Pokemon pokemon, BattleScene scene) {
			
		});
		AddUseOnPokemon(Items.KELPSYBERRY, new Func<int, Pokemon, BattleScene, bool>(int item, Pokemon pokemon, BattleScene scene) {
			
		});
		AddUseOnPokemon(Items.QUALOTBERRY, new Func<int, Pokemon, BattleScene, bool>(int item, Pokemon pokemon, BattleScene scene) {
			
		});
		AddUseOnPokemon(Items.HONDEWBERRY, new Func<int, Pokemon, BattleScene, bool>(int item, Pokemon pokemon, BattleScene scene) {
			
		});
		AddUseOnPokemon(Items.GREPABERRY, new Func<int, Pokemon, BattleScene, bool>(int item, Pokemon pokemon, BattleScene scene) {
			
		});
		AddUseOnPokemon(Items.TAMATOBERRY, new Func<int, Pokemon, BattleScene, bool>(int item, Pokemon pokemon, BattleScene scene) {
			
		});
		AddUseOnPokemon(Items.GRACIDEA, new Func<int, Pokemon, BattleScene, bool>(int item, Pokemon pokemon, BattleScene scene) {
			
		});
		AddUseOnPokemon(Items.REVEALGLASS, new Func<int, Pokemon, BattleScene, bool>(int item, Pokemon pokemon, BattleScene scene) {
			
		});
		AddUseOnPokemon(Items.DNASPLICERS, new Func<int, Pokemon, BattleScene, bool>(int item, Pokemon pokemon, BattleScene scene) {
			
		});
		AddUseOnPokemon(Items.PRISONBOTTLE, new Func<int, Pokemon, BattleScene, bool>(int item, Pokemon pokemon, BattleScene scene) {
			
		});
		AddUseOnPokemon(Items.ABILITYCAPSULE, new Func<int, Pokemon, BattleScene, bool>(int item, Pokemon pokemon, BattleScene scene) {
			
		});
		AddBattleUseOnPokemon(Items.POTION, new Func<int, Pokemon, BattleScene, bool>(int item, Pokemon pokemon, Battler battler, BattleScene scene) {
			
		});
		AddBattleUseOnPokemon(Items.SUPERPOTION, new Func<int, Pokemon, BattleScene, bool>(int item, Pokemon pokemon, Battler battler, BattleScene scene) {
			
		});
		AddBattleUseOnPokemon(Items.HYPERPOTION, new Func<int, Pokemon, BattleScene, bool>(int item, Pokemon pokemon, Battler battler, BattleScene scene) {
			
		});
		AddBattleUseOnPokemon(Items.MAXPOTION, new Func<int, Pokemon, BattleScene, bool>(int item, Pokemon pokemon, Battler battler, BattleScene scene) {
			
		});
		AddBattleUseOnPokemon(Items.BERRYJUICE, new Func<int, Pokemon, BattleScene, bool>(int item, Pokemon pokemon, Battler battler, BattleScene scene) {
			
		});
		AddBattleUseOnPokemon(Items.RAGECANDYBAR, new Func<int, Pokemon, BattleScene, bool>(int item, Pokemon pokemon, Battler battler, BattleScene scene) {
			
		});
		AddBattleUseOnPokemon(Items.SWEETHEART, new Func<int, Pokemon, BattleScene, bool>(int item, Pokemon pokemon, Battler battler, BattleScene scene) {
			
		});
		AddBattleUseOnPokemon(Items.FRESHWATER, new Func<int, Pokemon, BattleScene, bool>(int item, Pokemon pokemon, Battler battler, BattleScene scene) {
			
		});
		AddBattleUseOnPokemon(Items.SODAPOP, new Func<int, Pokemon, BattleScene, bool>(int item, Pokemon pokemon, Battler battler, BattleScene scene) {
			
		});
		AddBattleUseOnPokemon(Items.LEMONADE, new Func<int, Pokemon, BattleScene, bool>(int item, Pokemon pokemon, Battler battler, BattleScene scene) {
			
		});
		AddBattleUseOnPokemon(Items.MOOMOOMILK, new Func<int, Pokemon, BattleScene, bool>(int item, Pokemon pokemon, Battler battler, BattleScene scene) {
			
		});
		AddBattleUseOnPokemon(Items.ORANBERRY, new Func<int, Pokemon, BattleScene, bool>(int item, Pokemon pokemon, Battler battler, BattleScene scene) {
			
		});
		AddBattleUseOnPokemon(Items.SITRUSBERRY, new Func<int, Pokemon, BattleScene, bool>(int item, Pokemon pokemon, Battler battler, BattleScene scene) {
			
		});
		AddBattleUseOnPokemon(Items.AWAKENING, new Func<int, Pokemon, BattleScene, bool>(int item, Pokemon pokemon, Battler battler, BattleScene scene) {
			
		});
		Copy(BattleUseOnPokemon, Items.AWAKENING,Items.CHESTOBERRY,Items.BLUEFLUTE,Items.POKEFLUTE);
		AddBattleUseOnPokemon(Items.ANTIDOTE, new Func<int, Pokemon, BattleScene, bool>(int item, Pokemon pokemon, Battler battler, BattleScene scene) {
			
		});
		Copy(BattleUseOnPokemon, Items.ANTIDOTE,Items.PECHABERRY);
		AddBattleUseOnPokemon(Items.BURNHEAL, new Func<int, Pokemon, BattleScene, bool>(int item, Pokemon pokemon, Battler battler, BattleScene scene) {
			
		});
		Copy(BattleUseOnPokemon, Items.BURNHEAL,Items.RAWSTBERRY);
		AddBattleUseOnPokemon(Items.PARLYZHEAL, new Func<int, Pokemon, BattleScene, bool>(int item, Pokemon pokemon, Battler battler, BattleScene scene) {
			
		});
		Copy(BattleUseOnPokemon, Items.PARLYZHEAL,Items.PARALYZEHEAL,Items.CHERIBERRY);
		AddBattleUseOnPokemon(Items.ICEHEAL, new Func<int, Pokemon, BattleScene, bool>(int item, Pokemon pokemon, Battler battler, BattleScene scene) {
			
		});
		Copy(BattleUseOnPokemon, Items.ICEHEAL,Items.ASPEARBERRY);
		AddBattleUseOnPokemon(Items.FULLHEAL, new Func<int, Pokemon, BattleScene, bool>(int item, Pokemon pokemon, Battler battler, BattleScene scene) {
			
		});
		Copy(BattleUseOnPokemon, Items.FULLHEAL,
		AddBattleUseOnPokemon(Items.FULLRESTORE, new Func<int, Pokemon, BattleScene, bool>(int item, Pokemon pokemon, Battler battler, BattleScene scene) {
			
		});
		AddBattleUseOnPokemon(Items.REVIVE, new Func<int, Pokemon, BattleScene, bool>(int item, Pokemon pokemon, Battler battler, BattleScene scene) {
			
		});
		AddBattleUseOnPokemon(Items.MAXREVIVE, new Func<int, Pokemon, BattleScene, bool>(int item, Pokemon pokemon, Battler battler, BattleScene scene) {
			
		});
		AddBattleUseOnPokemon(Items.ENERGYPOWDER, new Func<int, Pokemon, BattleScene, bool>(int item, Pokemon pokemon, Battler battler, BattleScene scene) {
			
		});
		AddBattleUseOnPokemon(Items.ENERGYROOT, new Func<int, Pokemon, BattleScene, bool>(int item, Pokemon pokemon, Battler battler, BattleScene scene) {
			
		});
		AddBattleUseOnPokemon(Items.HEALPOWDER, new Func<int, Pokemon, BattleScene, bool>(int item, Pokemon pokemon, Battler battler, BattleScene scene) {
			
		});
		AddBattleUseOnPokemon(Items.REVIVALHERB, new Func<int, Pokemon, BattleScene, bool>(int item, Pokemon pokemon, Battler battler, BattleScene scene) {
			
		});
		AddBattleUseOnPokemon(Items.ETHER, new Func<int, Pokemon, BattleScene, bool>(int item, Pokemon pokemon, Battler battler, BattleScene scene) {
			
		});
		Copy(BattleUseOnPokemon, Items.ETHER,Items.LEPPABERRY);
		AddBattleUseOnPokemon(Items.MAXETHER, new Func<int, Pokemon, BattleScene, bool>(int item, Pokemon pokemon, Battler battler, BattleScene scene) {
			
		});
		AddBattleUseOnPokemon(Items.ELIXIR, new Func<int, Pokemon, BattleScene, bool>(int item, Pokemon pokemon, Battler battler, BattleScene scene) {
			
		});
		AddBattleUseOnPokemon(Items.MAXELIXIR, new Func<int, Pokemon, BattleScene, bool>(int item, Pokemon pokemon, Battler battler, BattleScene scene) {
			
		});
		AddBattleUseOnPokemon(Items.REDFLUTE, new Func<int, Pokemon, BattleScene, bool>(int item, Pokemon pokemon, Battler battler, BattleScene scene) {
			
		});
		AddBattleUseOnPokemon(Items.YELLOWFLUTE, new Func<int, Pokemon, BattleScene, bool>(int item, Pokemon pokemon, Battler battler, BattleScene scene) {
			
		});
		Copy(BattleUseOnPokemon, Items.YELLOWFLUTE,Items.PERSIMBERRY);
		AddBattleUseOnBattler(Items.XATTACK, new Func<int, Battler, BattleScene, bool>(int item, Battler battler, BattleScene scene) {
			
		});
		AddBattleUseOnBattler(Items.XATTACK, new Func<int, Battler, BattleScene, bool>(int item, Battler battler, BattleScene scene) {
			
		});
		AddBattleUseOnBattler(Items.XATTACK, new Func<int, Battler, BattleScene, bool>(int item, Battler battler, BattleScene scene) {
			
		});
		AddBattleUseOnBattler(Items.XATTACK, new Func<int, Battler, BattleScene, bool>(int item, Battler battler, BattleScene scene) {
			
		});
		AddBattleUseOnBattler(Items.XDEFEND, new Func<int, Battler, BattleScene, bool>(int item, Battler battler, BattleScene scene) {
			
		});
		Copy(BattleUseOnBattler, Items.XDEFEND,Items.XDEFENSE);
		AddBattleUseOnBattler(Items.XDEFEND, new Func<int, Battler, BattleScene, bool>(int item, Battler battler, BattleScene scene) {
			
		});
		Copy(BattleUseOnBattler, Items.XDEFEND2,Items.XDEFENSE2);
		AddBattleUseOnBattler(Items.XDEFEND, new Func<int, Battler, BattleScene, bool>(int item, Battler battler, BattleScene scene) {
			
		});
		Copy(BattleUseOnBattler, Items.XDEFEND3,Items.XDEFENSE3);
		AddBattleUseOnBattler(Items.XDEFEND, new Func<int, Battler, BattleScene, bool>(int item, Battler battler, BattleScene scene) {
			
		});
		Copy(BattleUseOnBattler, Items.XDEFEND6,Items.XDEFENSE6);
		AddBattleUseOnBattler(Items.XSPECIAL, new Func<int, Battler, BattleScene, bool>(int item, Battler battler, BattleScene scene) {
			
		});
		Copy(BattleUseOnBattler, Items.XSPECIAL,Items.XSPATK);
		AddBattleUseOnBattler(Items.XSPECIAL, new Func<int, Battler, BattleScene, bool>(int item, Battler battler, BattleScene scene) {
			
		});
		Copy(BattleUseOnBattler, Items.XSPECIAL2,Items.XSPATK2);
		AddBattleUseOnBattler(Items.XSPECIAL, new Func<int, Battler, BattleScene, bool>(int item, Battler battler, BattleScene scene) {
			
		});
		Copy(BattleUseOnBattler, Items.XSPECIAL3,Items.XSPATK3);
		AddBattleUseOnBattler(Items.XSPECIAL, new Func<int, Battler, BattleScene, bool>(int item, Battler battler, BattleScene scene) {
			
		});
		Copy(BattleUseOnBattler, Items.XSPECIAL6,Items.XSPATK6);
		AddBattleUseOnBattler(Items.XSPDEF, new Func<int, Battler, BattleScene, bool>(int item, Battler battler, BattleScene scene) {
			
		});
		AddBattleUseOnBattler(Items.XSPDEF, new Func<int, Battler, BattleScene, bool>(int item, Battler battler, BattleScene scene) {
			
		});
		AddBattleUseOnBattler(Items.XSPDEF, new Func<int, Battler, BattleScene, bool>(int item, Battler battler, BattleScene scene) {
			
		});
		AddBattleUseOnBattler(Items.XSPDEF, new Func<int, Battler, BattleScene, bool>(int item, Battler battler, BattleScene scene) {
			
		});
		AddBattleUseOnBattler(Items.XSPEED, new Func<int, Battler, BattleScene, bool>(int item, Battler battler, BattleScene scene) {
			
		});
		AddBattleUseOnBattler(Items.XSPEED, new Func<int, Battler, BattleScene, bool>(int item, Battler battler, BattleScene scene) {
			
		});
		AddBattleUseOnBattler(Items.XSPEED, new Func<int, Battler, BattleScene, bool>(int item, Battler battler, BattleScene scene) {
			
		});
		AddBattleUseOnBattler(Items.XSPEED, new Func<int, Battler, BattleScene, bool>(int item, Battler battler, BattleScene scene) {
			
		});
		AddBattleUseOnBattler(Items.XACCURACY, new Func<int, Battler, BattleScene, bool>(int item, Battler battler, BattleScene scene) {
			
		});
		AddBattleUseOnBattler(Items.XACCURACY, new Func<int, Battler, BattleScene, bool>(int item, Battler battler, BattleScene scene) {
			
		});
		AddBattleUseOnBattler(Items.XACCURACY, new Func<int, Battler, BattleScene, bool>(int item, Battler battler, BattleScene scene) {
			
		});
		AddBattleUseOnBattler(Items.XACCURACY, new Func<int, Battler, BattleScene, bool>(int item, Battler battler, BattleScene scene) {
			
		});
		AddBattleUseOnBattler(Items.DIREHIT, new Func<int, Battler, BattleScene, bool>(int item, Battler battler, BattleScene scene) {
			
		});
		AddBattleUseOnBattler(Items.DIREHIT, new Func<int, Battler, BattleScene, bool>(int item, Battler battler, BattleScene scene) {
			
		});
		AddBattleUseOnBattler(Items.DIREHIT, new Func<int, Battler, BattleScene, bool>(int item, Battler battler, BattleScene scene) {
			
		});
		AddBattleUseOnBattler(Items.GUARDSPEC, new Func<int, Battler, BattleScene, bool>(int item, Battler battler, BattleScene scene) {
			
		});
		AddBattleUseOnBattler(Items.POKEDOLL, new Func<int, Battler, BattleScene, bool>(int item, Battler battler, BattleScene scene) {
			
		});
		Copy(BattleUseOnBattler, Items.POKEDOLL,Items.FLUFFYTAIL,Items.POKETOY);
		AddIfBattleUseOnBattler(new Func<int, bool>(int item) {
			
		}, new Func<int, Battler, BattleScene, bool>(int item, Battler battler, BattleScene scene) {
			
		});
		AddUseInBattle(Items.POKEDOLL, new Func<int, Battler, Battle, bool>(int item, Battler battler, Battle battle) {
			
		});
		Copy(UseInBattle, Items.POKEDOLL,Items.FLUFFYTAIL,Items.POKETOY);
		AddIfUseInBattle(new Func<int, bool>(int item) {
			
		}, new Func<int, Battler, Battle, bool>(int item, Battler battler, Battle battle) {
			
		});
	}

	public static int Repel(int item, int steps) {
		if (PokemonGlobal.repel > 0) {
			Messaging.Message("But a repellent's effect still lingers from earlier.");
			return 0;
		} else {
			UseItemMessage(item);
			PokemonGlobal.repel = steps;
			return 3;
		}
	}

	// Copy i1 to the params in d
	public static void Copy(Dictionary<int, Func<int, int>> d, int i1, params int[] to) {
		for (int i=0; i<to.Length; i++) 
		{
			d[to[i]] = d[i1];
		}
	}
	public static void Copy(Dictionary<int, Func<int, bool>> d, int i1, params int[] to) {
		for (int i=0; i<to.Length; i++) 
		{
			d[to[i]] = d[i1];
		}
	}
	public static void Copy(Dictionary<int, Func<int, string>> d, int i1, params int[] to) {
		for (int i=0; i<to.Length; i++) 
		{
			d[to[i]] = d[i1];
		}
	}

	public static void AddUseFromBag(int item, Func<int, int> f) {
		UseFromBag.Add(item, f);
	}

	public static void AddUseInField(int item, Func<int, bool> f) {
		UseInField.Add(item, f);
	}

	public static void AddConfirmUseInField(int item, Func<int, int> f) {
		ConfirmUseInField.Add(item, f);
	}

	public static void AddUseOnPokemon(int item, Func<int, Pokemon, BattleScene, bool> f) {
		UseOnPokemon.Add(item, f);
	}

	public static void AddBattleUseOnBattler(int item, Func<int, Battler, BattleScene, bool> f) {
		BattleUseOnBattler.Add(item, f);
	}

	public static void AddBattleUseOnPokemon(int item, Func<int, Pokemon, Battler, BattleScene, bool> f) {
		BattleUseOnPokemon.Add(item, f);
	}

	public static void AddUseInBattle(int item, Func<int, Battler, Battle, bool> f) {
		UseInBattle.Add(item, f);
	}

	public static void AddUseText(int item, Func<int, string> f) {
		UseText.Add(item, f);
	}

	public static void AddIfUseFromBag(Func<int, bool> condition, Func<int, int> f) {
		for (int i=1; i <= MaxValue(); i++) {
			if (condition(i)) {
				UseFromBag.Add(item, f);
			}
		}
	}

	public static void AddIfUseInField(Func<int, bool> condition, Func<int, bool> f) {
		for (int i=1; i <= MaxValue(); i++) {
			if (condition(i)) {
				UseInField.Add(item, f);
			}
		}
	}

	public static void AddIfConfirmUseInField(Func<int, bool> condition, Func<int, int> f) {
		for (int i=1; i <= MaxValue(); i++) {
			if (condition(i)) {
				ConfirmUseInField.Add(item, f);
			}
		}
	}

	public static void AddIfUseOnPokemon(Func<int, bool> condition, Func<int, Pokemon, BattleScene, bool> f) {
		for (int i=1; i <= MaxValue(); i++) {
			if (condition(i)) {
				UseOnPokemon.Add(item, f);
			}
		}
	}

	public static void AddIfBattleUseOnBattler(Func<int, bool> condition, Func<int, Battler, BattleScene, bool> f) {
		for (int i=1; i <= MaxValue(); i++) {
			if (condition(i)) {
				BattleUseOnBattler.Add(item, f);
			}
		}
	}

	public static void AddIfBattleUseOnPokemon(Func<int, bool> condition, Func<int, Pokemon, Battler, BattleScene, bool> f) {
		for (int i=1; i <= MaxValue(); i++) {
			if (condition(i)) {
				BattleUseOnPokemon.Add(item, f);
			}
		}
	}

	public static void AddIfUseInBattle(Func<int, bool> condition, Func<int, Battler, Battle, bool> f) {
		for (int i=1; i <= MaxValue(); i++) {
			if (condition(i)) {
				UseInBattle.Add(item, f);
			}
		}
	}

	public static void AddIfUseText(Func<int, bool> condition, Func<int, string> f) {
		for (int i=1; i <= MaxValue(); i++) {
			if (condition(i)) {
				UseText.Add(i, f);
			}
		}
	}

	public static bool HasOutHandler(int item) {
		// TODO
		return UseFromBag.ContainsKey(item) || UseInField.ContainsKey(item) || UseOnPokemon.ContainsKey(item);
	}

	public static bool HasUseFromBag(int item) {
		// TODO
		return UseFromBag.ContainsKey(item);
	}

	public static bool HasConfirmUseInField(int item) {
		// TODO
		return ConfirmUseInField.ContainsKey(item);
	}

	public static bool HasUseInField(int item) {
		// TODO
		return UseInField.ContainsKey(item);
	}

	public static bool HasUseOnPokemon(int item) {
		// TODO
		return UseOnPokemon.ContainsKey(item);
	}

	public static bool HasBattleUseOnBattler(int item) {
		// TODO
		return BattleUseOnBattler.ContainsKey(item);
	}

	public static bool HasBattleUseOnPokemon(int item) {
		// TODO
		return BattleUseOnPokemon.ContainsKey(item);
	}

	public static bool HasUseInBattle(int item) {
		// TODO
		return UseInBattle.ContainsKey(item);
	}

	public static bool HasUseText(int item) {
		// TODO
		return UseText.ContainsKey(item);
	}

	public static int TriggerUseFromBag(int item) {
		if (!HasUseFromBag(item)) {
			if (HasUseInField(item)) {
				return UseInField[item](item);
			}
			return 0;
		}
		return UseFromBag[item](item);
	}

	public static bool TriggerConfirmUseInField(int item) {
		if (!HasConfirmUseInField(item)) {
			return true;
		}
		return ConfirmUseInField[item](item);
	}

	public static int TriggerUseInField(int item) {
		if (!HasUseInField(item)) {
			return -1;
		}
		return UseInField[item](item);
	}

	public static bool TriggerUseOnPokemon(int item, Pokemon pokemon, BattleScene scene) {
		if (!HasUseOnPokemon(item)) {
			return false;
		}
		return UseOnPokemon[item](item, pokemon, scene);
	}

	public static bool TriggerBattleUseOnBattler(int item, Battler battler, Battle scene) {
		if (!HasBattleUseOnBattler(item)) {
			return false;
		}
		return BattleUseOnBattler[item](item, battler, scene);
	}

	public static bool TriggerBattleUseOnPokemon(int item, Pokemon pokemon, Battler battler, BattleScene scene) {
		if (!HasBattleUseOnPokemon(item)) {
			return false;
		}
		return BattleUseOnPokemon[item](item, pokemon, battler, scene);
	}

	public static void TriggerUseInBattle(int item, Battler battler, Battle battle) {
		if (!HasUseInBattle(item)) {
			return false;
		}
		return UseInBattle[item](item, battler, battle);
	}

	public static string GetUseText(int item) {
		if (!HasUseText(item)) {
			return "";
		}
		return UseText[item](item);
	}

	public static int RestoreHP(Pokemon pokemon, int restoreHP) {
		int newHP = pokemon.hp + restoreHP;
		if (newHP > pokemon.totalHP) {
			newHP = pokemon.totalHP;
		}
		int hpGain = newHP - pokemon.hp;
		pokemon.hp = newHP;
		return hpGain;
	}

	public static bool HPItem(Pokemon pokemon, int restoreHP, BattleScene scene) {
		if (pokemon.hp <= 0 || pokemon.hp == pokemon.totalHP || pokemon.Egg()) {
			scene.Display(string.Format("It won't have any effect."));
			return false;
		}
		int hpGain = Items.RestoreHP(pokemon, restoreHP);
		scene.Refresh();
		scene.Display(string.Format("{0}'s HP was restored by {1} points.", pokemon.name, hpGain));
		return true;
	}

	public static bool BattleRestoreHPItem(Pokemon pokemon, Battler battler, int restoreHP, BattleScene scene) {
		if (pokemon.hp <= 0 || pokemon.hp == pokemon.totalHP || pokemon.Egg()) {
			scene.Display(string.Format("It won't have any effect."));
			return false;
		}
		int hpGain;
		if (battler != null) {
			hpGain = battler.RestoreHP(restoreHP);
		} else {
			hpGain = Items.RestoreHP(pokemon, restoreHP);
		}
		scene.Display(string.Format("{0}'s HP was restored.", pokemon.name));
		return true;
	}

	public static int RestorePP(Pokemon pokemon, int moveIdx, int restorePP) {
		if (pokemon.moves[move].id == 0) {
			return 0;
		}
		if (pokemon.moves[move].totalPP == 0) {
			return 0;
		}
		int newPP = pokemon.moves[moveIdx].pp + restorePP;
		if (newPP > pokemon.moves[move].totalPP) {
			newPP = pokemon.moves[move].totalPP;
		}
		int oldPP = pokemon.moves[move].pp;
		pokemon.moves[move].pp = newPP;
		return newPP - oldPP;
	}

	public static bool BattleRestorePPItem(Pokemon pokemon, Battler battler, int moveIdx, int restorePP) {
		int ret = Items.RestorePP(pokemon, moveIdx, restorePP);
		if (ret > 0) {
			if (battler != null) {
				battler.SetPP(battler.moves[move], pokemon.moves[move.pp]);
			}
		}
		return ret;
	}

	public static int JustRaiseEffortValues(Pokemon pokemon, int ev, int evgain) {
		int totalev = 0;
		for (int i=0; i<6; i++) 
		{
			totalev += pokemon.ev[i];
		}
		if (totalev + evgain > Pokemon.EV_LIMIT) {
			evgain = Pokemon.EV_LIMIT - totalev;
		}
		if (pokemon.ev[ev]+evgain > Pokemon.EV_STAT_LIMIT) {
			evgain = Pokemon.EV_STAT_LIMIT - pokemon.ev[ev];
		}
		if (evgain > 0) {
			pokemon.ev[ev] += evgain;
			pokemon.CalcStats();
		}
		return evgain;
	}

	public static int RaiseEffortValues(Pokemon pokemon, int ev, int evgain=10, bool evLimit=true) {
		if (evLimit && pokemon.ev[ev] >= 100) {
			return 0;
		}
		int totalev = 0;
		for (int i=0; i<6; i++) 
		{
			totalev += pokemon.ev[i];
		}
		if (totalev + evgain > Pokemon.EV_LIMIT) {
			evgain = Pokemon.EV_LIMIT - totalev;
		}
		if (pokemon.ev[ev]+evgain > Pokemon.EV_STAT_LIMIT) {
			evgain = Pokemon.EV_STAT_LIMIT - pokemon.ev[ev];
		}
		if (evLimit && pokemon.ev[ev] + evgain > 100) {
			evgain = 100 - pokemon.ev[ev];
		}
		if (evgain > 0) {
			pokemon.ev[ev] += evgain;
			pokemon.CalcStats();
		}
		return evgain;
	}

	public static bool RaiseHappinessAndLowerEV(Pokemon pokemon, BattleScene scene, int ev, string[] messages) {
		bool h = pokemon.happiness < 255;
		bool e = pokemon.ev[ev] > 0;
		if (!h && !e) {
			scene.Display(string.Format("It won't have any effect."));
			return false;
		}
		if (h) {
			pokemon.ChangeHappiness("evberry");
		}
		if (e) {
			pokemon.ev[ev] -= 10;
			if (pokemon.ev[ev] < 0) {
				pokemon.ev[ev] = 0;
			}
			pokemon.CalcStats();
		}
		scene.Refresh();
		scene.Display(messages[2 - (h ? 0 : 1) - (e ? 0 : 2)]);
		return true;
	}

	public static bool BikeCheck() {
		if (PokemonGlobal.surfing || (!PokemonGlobal.bicycle && Terrain.OnlyWalk(PokemonGlobal.GetTerrainTag()))) {
			Messaging.Message("It can't be used here.");
			return false;
		}
		if (PokemonGlobal.HasDependentEvents()) {
			Messaging.Message("It can't be used when you have someone with you.");
			return false;
		}
		if (PokemonGlobal.bicycle) {
			if (Utilities.GetMetadata(PokemonGlobal.Map.MapID, MiscData.MetadataBicycleAlways)) {
				Messaging.Message("It can't be dismounted here.");
				return false;
			}
			return true;
		} else {
			int val = Utilities.GetMetadata(PokemonGlobal.Map.MapID, MiscData.MetadataBicycle);
			if (val < 0) {
				val = Utilities.GetMetadata(PokemonGlobal.Map.MapID, MiscData.MetadataOutdoor);
			}
			if (val < 0) {
				Messaging.Message("It can't be used here.");
				return false;
			}
			return true;
		}
	}

	public static GameMap.GameEvent ClosestHiddenItem(int ignoreAfterDistance=8) {
		List<int> res = new List<int>();
		int x = PokemonGlobal.playerX;
		int y = PokemonGlobal.playerY;
		for (int i=0; i < PokemonGlobal.Map.events.Length(); i++) {
			GameMap.GameEvent e = PokemonGlobal.Map.events[i];
			if (e.name != "HiddenItem") {
				continue;
			}
			if ((Math.Pow(x-e.x, 2) + Math.Pow(y-e.y, 2)) > Math.Pow(ignoreAfterDistance, 2)) {
				continue;
			}
			if (e.GetSwitch(0)) {
				continue;
			}
			res.Add(e);
		}
		GameMap.GameEvent ret = null;
		if (res.Length == 0) {
			return ret;
		}
		int retMin = 0;
		for (int i=0; i < res.Count; i++) {
			GameMap.GameEvent e = res[i];
			double dist = (Math.Pow(x-e.x, 2) + Math.Pow(y-e.y, 2));
			if (ret == null || retMin > dist) {
				ret = e;
				retMin = dist;
			}
		}
		return ret;
	}

	public static int UseItem(PokemonBag bag, int item, BagScene bagScene=null) {
		Items.InternalItem itm = Items.GetItem(item);
		if (itm.OutOfBattle == 3 || itm.OutOfBattle == 4) {
			if (PokemonGlobal.Trainer.PokemonCount() == 0) {
				Messaging.Message("There are no Pokémon.");
				return 0;
			}
			int machine = GetMachine(item);
			if (machine < 1) {
				return 0;
			}
			String moveName = Moves.GetName(machine);
			Messaging.Message(string.Format("\\se[PC access]You booted up {0}.\\1", Items.GetName(item)));
			if (!Messaging.ConfirmMessage(string.Format("Do you want to teach {0} to a Pokémon?", moveName))) {
				return 0;
			} else if (Utilities.MoveTutorChoose(machine, null, true)) {
				if (IsTechnicalMachine(item) && !Settings.INFINITE_TMS) {
					PokemonGlobal.Bag.DeleteItem(item);
				}
				return 1;
			} else {
				return 0;
			}
		} else if (itm.OutOfBattle == 1 || itm.OutOfBattle == 5) {
			if (PokemonGlobal.Trainer.PokemonCount() == 0) {
				Messaging.Message("Thre are no Pokémon.");
				return 0;
			}
			bool ret = false;
			List<string> annotation = new List<string>();
			if (IsEvolutionStone(item)) {
				for (int i=0; i<PokemonGlobal.Trainer.party; i++) 
				{
					bool eligible = CheckEvolution(PokemonGlobal.Trainer.party[i], item) > 0;
					annotation.Add(eligible ? "ABLE" : "NOT ABLE");
				}
			}
			Graphics.FadeOutIn(99999, new Action() {
				PokemonPartyScene scene = new PokemonPartyScene();
				PokemonPartyScene.PartyScreen screen = new PokemonPartyScene.PartyScreen();
				screen.StartScene("Use on which Pokémon?", false, annotation);
				while (true) {
					scene.SetHelpText("Use on which Pokémon?");
					int chosen = screen.ChoosePokemon();
					if (chosen >= 0) {
						Pokemon pokemon = PokemonGlobal.Trainer.party[chosen];
						if (CheckUseOnPokemon(item, pokemon, screen)) {
							ret = TriggerUseOnPokemon(item, pokemon, screen);
							if (ret && itm.OutOfBattle == 1) {
								PokemonGlobal.Bag.DeleteItem(item);
							}
							if (!bag.HasItem(item)) {
								Messaging.Message(string.Format("You used your last {0}!", Items.GetName(item)));
								break;
							}
						}
					} else {
						ret = false;
						break;
					}
				}
				screen.EndScene();
				if (bagScene != null) {
					bagScene.Refresh();
				}
			});
			return ret ? 1 : 0;
		} else if (itm.OutOfBattle == 2) {
			int intret = TriggerUseFromBag(item);
			switch (intret) 
			{
				case 0:
					return 0;
				case 1:
					return 1;
				case 2:
					return 2;
				case 3:
					PokemonGlobal.Bag.DeleteItem(item);
					return 1;
				case 4:
					PokemonGlobal.Bag.DeleteItem(item);
					return 2;
				default:
					Messaging.Message("It can't be used here.");
					return 0;
			}
		} else {
			Messaging.Message("It can't be used here.");
			return 0;
		}
	}

	public static bool UseItemOnPokemon(int item, Pokemon pokemon, BattleScene scene) {
		Items.InternalItem itm = Items.GetItem(item);
		if (itm.OutOfBattle == 3 || itm.OutOfBattle == 4) {
			machine = GetMachine(item);
			if (machine < 1) {
				return false;
			}
			string moveName == Moves.GetName(machine);
			if (!pokemon.IsCompatibleWithMove(machine)) {
				Messaging.Message("{0} can't learn {1}.", pokemon.name, moveName);
			} else {
				Messaging.Message(string.Format("\\se[PC access]You booted up {0}.\\1", Items.GetName(item)));
				if (!Messaging.ConfirmMessage(string.Format("Do you want to teach {0} to {1}?", moveName, pokemon.name))) {
					if (MultipleForms.LearnMove(pokemon, machine, false, true)) {
						if (IsTechnicalMachine(item) && !Settings.INFINITE_TMS) {
							PokemonGlobal.Bag.DeleteItem(item);
						}
						return true;
					}
				}
			}
			return false;
		} else {
			bool ret = TriggerUseOnPokemon(item, pokemon, scene);
			scene.ClearAnnotations();
			scene.HardRefresh();
			if (ret && itm.OutOfBattle == 1) {
				PokemonGlobal.Bag.DeleteItem(item);
			}
			if (!PokemonGlobal.Bag.HasItem(item)) {
				Messaging.Message(string.Format("You used your last {0}.", Items.GetName(item)))
			}
			return ret;
		}
	}

	public static bool UseKeyItemInField(int item) {
		int ret = TriggerUseInField(item);
		if (ret == -1) {
			Messaging.Message("Can't use that here.");
		} else if (ret == 3) {
			PokemonGlobal.Bag.DeleteItem(item);
		}
		return ret > 0;
	}

	public static void ConsumeItemInBattle(PokemonBag bag, int item) {
		Items.InternalItem itm = GetItem(item);
		if (item > 0 && itm.InBattle != 3 && itm.InBattle != 4 && itm.InBattle != 0) {
			PokemonGlobal.Bag.DeleteItem(item);
		}
	}

	public static string UseItemMessage(int item) {
		string itemname = GetName(item);
		switch (itemname.Substring(0, 1).ToLower()) 
		{
			case "a":
			case "e":
			case "i":
			case "o":
			case "u":
				Messaging.Message(string.Format("You used an {0}.", itemname));
				break;
			default:
				Messaging.Message(string.Format("You used a {0}.", itemname));
				break;
		}
	}

	public static bool CheckUseOnPokemon(int item, Pokemon pokemon, BattleScene scene) {
		return pokemon != null && !pokemon.Egg();
	}

	public static bool GiveItemToPokemon(int item, Pokemon pokemon, BattleScene scene, int pkmnid=0) {
		string newItemName = GetName(item);
		if (pokemon.Egg()) {
			scene.Display("Eggs can't hold items.");
			return false;
		} else if (pokemon.mail != null) {
			scene.Display(string.Format("{0}'s mail must be removed before giving it an item.", pokemon.name));
			if (!TakeItemFromPokemon(pokemon, scene)) {
				return false;
			}
		}
		if (pokemon.HasItem()) {
			string oldItemName = Items.GetName(pokemon.item);
			if (pokemon.item == Items.LEFTOVERS) {
				scene.Display(string.Format("{0} is already holding some {1}.\\1", pokemon.name, oldItemName));
			} else {
				switch (oldItemName.Substring(0, 1).ToLower()) 
				{
					case "a":
					case "e":
					case "i":
					case "o":
					case "u":
						Messaging.Message(string.Format("{0} is already holding an {1}.", pokemon.name, oldItemName));
						break;
					default:
						Messaging.Message(string.Format("{0} is already holding a {1}.", pokemon.name, oldItemName));
						break;
				}
			}
			if (scene.Confirm("Would you like to switch the two items?")) {
				PokemonGlobal.Bag.DeleteItem(item);
				if (!PokemonGlobal.Bag.StoreItem(pokemon.item)) {
					if (!PokemonGlobal.Bag.StoreItem(item)) {
						throw new Exception("Couldn't re-store deleted item in Bag somehow");
					}
					scene.Display(string.Format("The Bag is full. {0}'s item could not be removed.", pokemon.name));
				} else {
					if (IsMail(item)) {
						if (Mail.WriteMail(item, pokemon, pkmnid, scene)) {
							pokemon.SetItem(item);
							scene.Display(string.Format("Took the {0} from {1} and gave it the {2}.", oldItemName, pokemon.name, newItemName));
							return true;
						} else {
							if (!PokemonGlobal.Bag.StoreItem(item)) {
								throw new Exception("Couldn't re-store deleted item in Bag somehow");
							}
						}
					} else {
						pokemon.SetItem(item);
						scene.Display(string.Format("Took the {0} from {1} and gave it the {2}."), oldItemName, pokemon.name, newItemName);
						return true;
					}
				}
			}
		} else {
			if (!IsMail(item) || Mail.WriteMail(item, pokemon, pkmnid, scene)) {
				PokemonGlobal.Bag.DeleteItem(item);
				pokemon.SetItem(item);
				scene.Display(string.Format("{0} is now holding the {1}.", pokemon.name, newItemName))
				return true;
			}
		}
		return false;
	}

	public static bool TakeItemFromPokemon(Pokemon pokemon, BattleScene scene) {
		bool ret = false;
		if (!pokemon.HasItem()) {
			scene.Display(string.Format("{0} isn't holding anything.", pokemon.name));
		} else if (!PokemonGlobal.Bag.CanStore(pokemon.item)) {
			scene.Display("The Bag is full. The Pokémon's item could not be removed.");
		} else if (pokemon.mail != null) {
			if (scene.Confirm("Save the removed mail in your PC?")) {
				if (!MoveToMailbox(pokemon)) {
					scene.Display("Your PC's Mailbox is full.");
				} else {
					scene.Display("The mail was saved in your PC.");
					pokemon.SetItem(0);
					ret = 0;
				}
			} else if (scene.Confirm("If the mail is removed, its message will be lost. OK?")) {
				PokemonGlobal.Bag.StoreItem(pokemon.item);
				string itemname = Items.GetName(pokemon.item);
				scene.Display(string.Format("Received the {0} from {1}.", itemname, pokemon.name));
				pokemon.SetItem(0);
				pokemon.mail = null;
				ret = true;
			}
		} else {
			PokemonGlobal.Bag.StoreItem(pokemon.item);
			string itemname = Items.GetName(pokemon.item);
			scene.Display(string.Format("Received the {0} from {1}.", itemname, pokemon.name));
			pokemon.SetItem(0);
			ret = true;
		}
		return ret;
	}

	public static int ChooseItem(int var=0) {
		int ret = 0;
		Graphics.FadeOutIn(99999, new Action() {
			BagScene scene = new BagScene();
			BagScene.BagScreen screen = new BagScene.BagScreen(scene, PokemonGlobal.Bag);
			ret = screen.ChooseItemScreen();
		});
		if (var > 0) {
			Globals.SetVariable(var, ret);
		}
		return ret;
	}

	public static int ChooseApricorn(int var=0) {
		int ret = 0;
		Graphics.FadeOutIn(99999, new Action() {
			BagScene scene = new BagScene();
			BagScene.BagScreen screen = new BagScene.BagScreen(scene, PokemonGlobal.Bag);
			ret = screen.ChooseItemScreen(new Func<int, bool>(int item) {
				return IsApricorn(item);
			});
		});
		if (var > 0) {
			Globals.SetVariable(var, ret);
		}
		return ret;
	}

	public static int ChooseFossil(int var=0) {
		int ret = 0;
		Graphics.FadeOutIn(99999, new Action() {
			BagScene scene = new BagScene();
			BagScene.BagScreen screen = new BagScene.BagScreen(scene, PokemonGlobal.Bag);
			ret = screen.ChooseItemScreen(new Func<int, bool>(int item) {
				return IsFossil(item);
			});
		});
		if (var > 0) {
			Globals.SetVariable(var, ret);
		}
		return ret;
	}

	public static int ChooseItemFromList(string message, int var, params int[] args) {
		List<string> commands = new List<string>();
		List<int> itemid = new List<int>();
		for (int i=0; i<args.Length; i++) 
		{
			int id = args[i];
			if (PokemonGlobal.Bag.HasItem(id)) {
				commands.Add(Items.GetName(id));
				itemid.Add(id)
			}
		}
		if (commands.Length == 0) {
			Global.SetVariable(variable, 0);
			return 0;
		}
		commands.Add("Cancel");
		itemid.Add(0);
		int ret = Messaging.Commands(message, commands, -1);
		if (ret < 0 || ret >= commands.Length-1) {
			Globals.SetVariable(variable, -1);
			return -1;
		} else {
			Globals.SetVariable(variable, ret);
			return itemid[ret];
		}
	}

	public static int[] BallTypes = new int[24]{
		Items.POKEBALL,
		Items.GREATBALL,
		Items.SAFARIBALL,
		Items.ULTRABALL,
		Items.MASTERBALL,
		Items.NETBALL,
		Items.DIVEBALL,
		Items.NESTBALL,
		Items.REPEATBALL,
		Items.TIMERBALL,
		Items.LUXURYBALL,
		Items.PREMIERBALL,
		Items.DUSKBALL,
		Items.HEALBALL,
		Items.QUICKBALL,
		Items.CHERISHBALL,
		Items.FASTBALL,
		Items.LEVELBALL,
		Items.LUREBALL,
		Items.HEAVYBALL,
		Items.LOVEBALL,
		Items.FRIENDBALL,
		Items.MOONBALL,
		Items.SPORTBALL
	};

	public static int BallTypeToBall(int ballType) {
		if (Array.IndexOf(BallTypes, ballType) > -1) {
			return BallTypes[ballType];
		}
		return Items.POKEBALL;
	}

	public static int GetBallType(int ball) {
		for (int i=0; i<BallTypes.Length; i++) 
		{
			if (ball == BallTypes[i]) {
				return i;
			}
		}
		return 0;
	}

	public static bool IsUnconditionalHandler(int ball, Battle battle, Battler battler) {
		switch (ball) {
			case Items.MASTERBALL:
				return true;
		}
		return false;
	}

	public static int ModifyCatchRateHandler(int ball, int catchRate, Battle battle, Battler battler) {
		switch (ball) {
			case Items.GREATBALL:
				return (int)(catchRate*3.0/2);
			case Items.ULTRABALL:
				return (int)(catchRate*2);
			case Items.SAFARIBALL:
				return (int)(catchRate*3.0/2);
			case Items.NETBALL:
				if (battler.HasType(Types.BUG) || battler.HasType(Types.WATER)) {
					catchRate *= 3;
				}
				return catchRate
			case Items.DIVEBALL:
				if (battle.environment == Environment.Underwater) {
					catchRate = (int)(catchRate*7.0/2);
				}
				return catchRate;
			case Items.NESTBALL:
				if (battler.level <= 40) {
					catchRate *= (int)Math.Max((41-battler.level/10.0), 1)
				}
				return catchRate;
			case Items.REPEATBALL:
				if (battle.Player.owned[battler.species]) {
					catchRate *= 3;
				}
				return catchRate;
			case Items.TIMERBALL:
				double multiplier = Math.Min(1 + (0.3 * battle.turncount), 4);
				catchRate = (int)(catchRate*multiplier);
				return catchRate;
			case Items.DUSKBALL:
				if (DayNight.IsNight() || battle.environment == Environment.Cave) {
					catchRate = (int)(catchRate * 7.0/2);
				}
				return catchRate;
			case Items.QUICKBALL:
				if (battle.turncount <= 1) {
					catchRate *= 5;
				}
				return catchRate;
			case Items.FASTBALL:
				int basespeed = Species.GetSpecies(battler.species).BaseStats[Stats.SPEED];
				if (basespeed >= 100) {
					catchRate *= 4;
				}
				return catchRate;
			case Items.LEVELBALL:
				int pbattler = battle.battlers[0].level;
				if (battle.battlers[2] && battle.battlers[2].level > pbattler) {
					pbattler = battle.battlers[2].level;
				}
				if (pbattler >= battler.level*4) {
					catchRate *= 8;
				} else if (pbattler >= battler.level*2) {
					catchRate *= 4;
				} else if (pbattler > battler.level) {
					catchRate *= 2;
				}
				return (int)Math.Min(catchRate, 255);
			case Items.LUREBALL:
				if (PkmnTemp.encounterType == EncounterTypes.OldRod || PkmnTemp.encounterType == EncounterTypes.GoodRod || PkmnTemp.encounterType == EncounterTypes.SuperRod) {
					catchRate *= 3;
				}
				return (int)Math.Min(catchRate, 255);
			case Items.HEAVYBALL:
				int weight = battler.weight;
				if (weight >= 4096) {
					catchRate += 40;
				} else if (weight >= 3072) {
					catchRate += 30;
				} else if (weight >= 2048) {
					catchRate += 20;
				} else {
					catchRate -= 20;
				}
				return (int)Math.Min(Math.Max(catchRate, 1), 255);
			case Items.LOVEBALL:
				Battler pbattler = battle.battlers[0];
				Battler pbattler2 = null;
				if (battle.battlers[2] != null) {
					pbattler2 = battle.battlers[2];
				}
				if (pbattler.species == battler.species && ((battler.gender == 0) && (pbattler.gender == 1)) || ((battler.gender == 1) && (pbattler.gender == 0))) {
					catchRate *= 8;
				} else if (pbattler2.species == battler.species && ((battler.gender == 0) && (pbattler2.gender == 1)) || ((battler.gender == 1) && (pbattler2.gender == 0))) {
					catchRate *= 8;
				}
				return (int)Math.Min(catchRate, 255);
			case Items.MOONBALL:
				int[] sp = new int[16]{Species.NIDORANfE, Species.NIDORINA, Species.NIDOQUEEN, Species.NIDORANmA, Species.NIDORINO, Species.NIDOKING, Species.CLEFFA, Species.CLEFAIRY, Species.CLEFABLE, Species.IGGLYBUFF, Species.JIGGLYPUFF, Species.WIGGLYTUFF, Species.SKITTY, Species.DELCATTY, Species.MUNNA, Species.MUSHARNA};
				if (Array.IndexOf(sp, battler.species)) {
					catchRate *= 4;
				}
				return (int)Math.Min(catchRate, 255);
			case Items.SPORTBALL:
				return (int)(catchRate*3.0/2);
		}
		return catchRate;
	}

	public static void OnCatchHandler(int ball, Battle battle, Battler battler) {
		switch (ball) {
			case Items.HEALBALL:
				pokemon.Heal();
				break;
			case Items.FRIENDBALL:
				pokemon.happiness = 200;
				break;
		}
	}

	public static void OnFailCatchHandler(int ball, Battle battle, Battler battler) {
		switch (ball) {
			default:
			  break;
		}
	}
}